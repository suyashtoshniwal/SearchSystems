@model SearchSystems.ViewModels.EmployeeDashboardVM

@{
    ViewBag.Title = "Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Dashboard</h2>
@using (Html.BeginForm())
{
    <table class="table">
        <tr>
            <th>
                @Html.Label("Total Employees : ")@Html.ActionLink(Model.TotalEmployeesNumber.ToString(), "Index", "home")
            </th>
            <th>
                <div class="form-group">
                    @Html.LabelFor(model => model.TotalMaleEmployeesNumber, "Male:", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.DisplayFor(model => model.TotalMaleEmployeesNumber, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.TotalMaleEmployeesNumber, "", new { @class = "text-danger" })
                    </div>
                </div>
            </th>
            <th>
                <div class="form-group">
                    @Html.LabelFor(model => model.TotalFemaleEmployeesNumber, "Female:", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.DisplayFor(model => model.TotalFemaleEmployeesNumber, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.TotalFemaleEmployeesNumber, "", new { @class = "text-danger" })
                    </div>
                </div>
            </th>
        </tr>
        <tr>
            <th>
                @Html.Label("Past Employees : ")@Html.ActionLink(Model.PastEmployees.ToString(), "Index", "home", new { deletedEmployeesView = true }, null)
            </th>
        </tr>
    </table>
    <hr />
    <h4 style="color:orangered">@Html.Label("Pending Dues : Need to take Action")</h4>
    <table>
        <tr>
            <td>
                <div class="form-group">
                    @Html.ActionLink("Provident Fund (PF) :", "Index", "home", new { pfview = true }, null)@Html.Label(Model.TotalEmpNumberPFTostartFor.ToString())
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="form-group">
                    @Html.ActionLink("Gratuity :", "Index", "home", new { gratuityview = true }, null)@Html.Label(Model.TotalEmpGratuityPending.ToString())
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="form-group">
                    @Html.ActionLink("Medical Insurance", "Index", "home", new { insuranceview = true }, null)
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="form-group">
                    @Html.ActionLink("Fixed Deposit :", "Index", "FixedDeposits", new { fdview = true }, null)@Html.Label(Model.TotalFDMaturing.ToString())
                </div>
            </td>
        </tr>
    </table>
    <hr />


    <div class="container">
        <div style="float:left;padding: 10px; margin-left: 15px; background-color:">
            <h4 style="color:#b24735">@Html.Label("Employee Service Distribution")</h4>
            <table border="1" class="text-center" cellpadding="5">
                <tr style="color:#b24735">
                    <th>Service Duration Between</th>
                    <th>No Of Employees</th>
                </tr>
                <tr>
                    <td>0 to 1 year</td>
                    <td>@Model.EmployeeServiceDistribution[1]</td>
                </tr>
                <tr>
                    <td>1 to 2 years</td>
                    <td>@Model.EmployeeServiceDistribution[2]</td>
                </tr>
                <tr>
                    <td>2 to 3 years</td>
                    <td>@Model.EmployeeServiceDistribution[3]</td>
                </tr>
                <tr>
                    <td>3 to 5 years</td>
                    <td>@Model.EmployeeServiceDistribution[5]</td>
                </tr>
                <tr>
                    <td>5 to 7 years</td>
                    <td>@Model.EmployeeServiceDistribution[7]</td>
                </tr>
                <tr>
                    <td>7 to 9 years</td>
                    <td>@Model.EmployeeServiceDistribution[9]</td>
                </tr>
                <tr>
                    <td>9 to 11 years</td>
                    <td>@Model.EmployeeServiceDistribution[11]</td>
                </tr>
                <tr>
                    <td>11 to 13 years</td>
                    <td>@Model.EmployeeServiceDistribution[13]</td>
                </tr>
                <tr>
                    <td>13 to 15 years</td>
                    <td>@Model.EmployeeServiceDistribution[15]</td>
                </tr>
                <tr>
                    <td>Above 15 years</td>
                    <td>@Model.EmployeeServiceDistribution[16]</td>
                </tr>
            </table>
        </div>

        <div style="float:left;padding: 10px; margin-left: 60px">

            <h4 style="color:#b24735">@Html.Label("Departmentwise Distribution")</h4>
            <table border="1" class="text-center" cellpadding="5">
                <tr style="color:#b24735">
                    <th>Department</th>
                    <th>Total Employees</th>
                    <th>Total Salary</th>
                </tr>

                @foreach (var item in Model.DepartmentDistributions)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.TotalEmployees)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.TotalSalary)
                        </td>
                    </tr>

                }

            </table>
        </div>

        <div style="float:left;padding: 10px; margin-left: 60px">
            <h4 style="color:#b24735">@Html.Label("Distribution of Employees Joined")</h4>
            <table border="1" class="text-center" cellpadding="5">
                <tr style="color:#b24735">
                    <th>Between Years</th>
                    <th>Total Employees</th>
                </tr>
                <tr>
                    <td>Before 1990</td>
                    <td>@Model.EmployeeYearwiseDistribution[5]</td>
                </tr>
                <tr>
                    <td>1991 to 1995</td>
                    <td>@Model.EmployeeYearwiseDistribution[6]</td>
                </tr>
                <tr>
                    <td>1996 to 2000</td>
                    <td>@Model.EmployeeYearwiseDistribution[7]</td>
                </tr>
                <tr>
                    <td>2001 to 2005</td>
                    <td>@Model.EmployeeYearwiseDistribution[1]</td>
                </tr>
                <tr>
                    <td>2006 to 2010</td>
                    <td>@Model.EmployeeYearwiseDistribution[2]</td>
                </tr>
                <tr>
                    <td>2011 to 2015</td>
                    <td>@Model.EmployeeYearwiseDistribution[3]</td>
                </tr>
                <tr>
                    <td>2016 to 2020</td>
                    <td>@Model.EmployeeYearwiseDistribution[4]</td>
                </tr>
            </table>
        </div>


    </div>

    <hr />
    <div class="container">
        <div style="float:left;padding: 10px; margin-left: 15px;">
            <h4 style="color:#b24735">@Html.Label("Blood Groupwise Distribution")</h4>
            <table border="1" class="text-center" cellpadding="5">
                <tr style="color:#b24735">
                    <th>Blood Group</th>
                    <th>Total Employees</th>
                </tr>
                @foreach (var item in Model.BloodGroups)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Key)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Value)
                        </td>
                    </tr>

                }

            </table>
        </div>


        <div style="float:left;padding: 10px; margin-left: 15px;">
            <h4 style="color:#b24735">@Html.Label("Upcoming Birthdays")</h4>
            <table border="1" class="text-center" cellpadding="5">
                @if (Model.EmployeeBirthdays.Count() > 0)
                {
                    <tr style="color:#b24735">
                        <th>Name</th>
                        <th>Birthday</th>
                    </tr>

                    foreach (var item in Model.EmployeeBirthdays)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Key)
                            </td>
                            <td>
                                @Html.TextBox("birthday", item.Value.Value.ToShortDateString(), new { @readonly = "readonly", @style = "border: 0px" })
                            </td>
                        </tr>

                    }
                }
                else
                { @Html.Label("No Birthdays in the coming month!")

            }

            </table>
        </div>
    </div>

    <table border="1" class="text-center" cellpadding="5"></table>
    @*<div id="employeeColumnChart"></div>*@
}

